\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[a4paper, margin=1in]{geometry} % Adjust page layout

% The 'ulem' package provides underlining capabilities.
% The [normalem] option prevents \emph from being changed to underline.
\usepackage[normalem]{ulem}

% --- Custom Commands for Keys ---
% \pk: For primary keys (solid underline)
% \fk: For foreign keys (dashed underline)
\newcommand{\pk}[1]{\uline{#1}}
\newcommand{\fk}[1]{\dashuline{#1}}

% --- Custom Environment for Schemas ---
% This environment formats the schema as requested.
% It takes one argument: the name of the table.
% Usage: \begin{schema}{TableName} ...attributes... \end{schema}
\newenvironment{schema}[1]{%
  \par\noindent          % Start a new paragraph at the left margin
  \ttfamily              % Use a monospaced font for the entire block
  #1 (\par               % 1. Print table name, ' (', and then a newline
  % Use a list to indent the attributes. We set all spacing to zero
  % except for the left margin, which creates the indentation.
  \list{}{\leftmargin=2em \itemindent=0pt \labelwidth=0pt \labelsep=0pt \listparindent=0pt \parsep=0pt \itemsep=0pt \topsep=0pt}%
  \item[]\relax% This starts the content block for the list
}{%
  \endlist% End the list of attributes
  \par\noindent)% 2. Print the closing parenthesis on a new line at the left margin
}

% --- Helper Command for Comments ---
% Ensures that comments below the schema also use the same monospaced font.
\newcommand{\schemacomment}[1]{\par\noindent{\ttfamily #1}}

% --- Document Start ---
\begin{document}

\schemacomment{ }
\section*{Database Schema}
\vspace{1em} 




\begin{schema}{Employee}
    \pk{employee\_id}, \\
    first\_name, last\_name,\\
    national\_id, \\
    email, \\
    gender,\\
    salary,\\
    address,\\
    official\_day\_off,\\
    emergency\_phone\_number, emergency\_name,\\
    hire\_date,\\
    last\_working\_date,\\
    years\_of\_experience,\\
    type\_of\_contract,\\
    employment\_status,\\
    entitlement\_to\_annual\_leave\_balance,\\
    entitlement\_to\_accidental\_leave\_balance 
\end{schema}
\vspace{1.5em} 



\begin{schema}{PhoneNumber}
    \pk{\fk{employee\_id}, number}
\end{schema}
\schemacomment{PhoneNumber.employee\_id references Employee.employee\_id}
\vspace{2em} 



\begin{schema}{Role}
    \pk{role\_name}, \\
    title, \\
    rank, \\ 
    description, \\
    base\_salary, \\
    initial\_annual\_leave, \\
    initial\_accidental\_leave, \\
    salary\_increase\_factor, \\
    overtime\_factor 
\end{schema}
\vspace{2em} 



\begin{schema}{Department}
    \pk{dept\_name}, \\
    location
\end{schema}
\vspace{2em} 

\newpage

\begin{schema}{replaces}
    \pk{replacement\_id}, \\
    \fk{employee\_on\_leave}, \\  
    \fk{replacement\_employee}, \\
    start\_date, \\
    end\_date
\end{schema}
\schemacomment{replaces.employee\_on\_leave references Employee.employee\_id}
\schemacomment{replaces.replacement\_employee references Employee.employee\_id}
\vspace{2em}




\begin{schema}{works\_in}
    \pk{\fk{role\_name},
    \fk{dept\_name}} 
\end{schema}
\schemacomment{works\_in.role\_name references Role.role\_name}
\schemacomment{works\_in.dept\_name references Department.dept\_name}
\vspace{2em} 



\begin{schema}{has\_role}
    \pk{\fk{employee\_id}, 
    \fk{role\_name}} 
\end{schema}
\schemacomment{has\_role.employee\_id references Employee.employee\_id}
\schemacomment{has\_role.role\_name references Role.role\_name}
\vspace{2em} 




\begin{schema}{Leave}
    \pk{request\_id}, \\
    \fk{employee\_id}, \\
    date\_of\_request, \\
    approval\_status, \\
    start\_date, \\
    end\_date, \\
    total\_num\_of\_days
\end{schema}
\schemacomment{Where Leave.total\_num\_of\_days = Leave.end\_date â€“ Leave.start\_date}
\schemacomment{Leave.employee\_id references Employee.employee\_id}
\vspace{2em} 



\begin{schema}{reviews}
    \pk{\fk{request\_id}, \fk{employee\_id}}
\end{schema}
\schemacomment{reviews.request\_id references Leave.request\_id}
\schemacomment{reviews.employee\_id references Employee.employee\_id}
\vspace{2em} 



\begin{schema}{Accidental\_Leave}
    \pk{\fk{request\_id}}
\end{schema}
\schemacomment{Accidental\_Leave.request\_id references Leave.request\_id}
\vspace{2em} 



\begin{schema}{Annual\_Leave}
    \pk{\fk{request\_id}}
\end{schema}
\schemacomment{Annual\_Leave.request\_id references Leave.request\_id}
\vspace{2em} 

\newpage

\begin{schema}{Medical\_Leave}
    \pk{\fk{request\_id}}, \\ 
    insurance\_status, \\
    disability\_details
\end{schema}
\schemacomment{Medical\_Leave.request\_id references Leave.request\_id}
\vspace{2em} 




\begin{schema}{Sick\_Leave}
    \pk{\fk{request\_id}}
\end{schema}
\schemacomment{Sick\_Leave.request\_id references Medical\_Leave.request\_id}
\vspace{2em} 






\begin{schema}{Maternity\_Leave}
    \pk{\fk{request\_id}}
\end{schema}
\schemacomment{Maternity\_Leave.request\_id references Medical\_Leave.request\_id}
\vspace{2em} 

 
\begin{schema}{Unpaid\_Leave}
    \pk{\fk{request\_id}}, \\
    \fk{document\_id}
\end{schema}
\schemacomment{Unpaid\_Leave.request\_id references Leave.request\_id}
\schemacomment{Unpaid\_Leave.document\_id references Document.document\_id}
\vspace{2em} 



\begin{schema}{Compensation\_Leave}
    \pk{\fk{request\_id}}, \\ 
    date\_of\_extra\_workday, \\
    reason
\end{schema}
\schemacomment{Compensation\_Leave.request\_id references Leave.request\_id}
\vspace{2em} 


\begin{schema}{Document}
    \pk{document\_id}, \\
    type,  \\
    size,  \\
    creation\_date, \\ 
    expiry\_date,  \\
    status,  \\
    storage\_location, \\ 
    description,  \\
    filename,  \\
    \fk{employee\_id}
\end{schema}
\schemacomment{Document.employee\_id references Employee.employee\_id}
\vspace{2em} 


\begin{schema}{Medical\_Document}
    \pk{\fk{document\_id}, \fk{request\_id}}
\end{schema}
\schemacomment{Medical\_Document.document\_id references Document.document\_id}
\schemacomment{Medical\_Document.request\_id references Medical\_Leave.reqeust\_id}
\newpage 


\begin{schema}{Performance}
    \pk{performance\_id}, \\ 
    rating, \\
    \fk{employee\_id}
\end{schema}
\schemacomment{Performance.employee\_id references Employee.employee\_id}
\vspace{2em} 




\begin{schema}{Performance\_Comments}
    \pk{\fk{performance\_id}}, \\ 
    comment
\end{schema}
\schemacomment{Performance\_Comments.performance\_id references Performance.performance\_id}
\vspace{2em}


\begin{schema}{Payroll}
    \pk{payroll\_id}, \\ 
    bonuses\_amount, \\
    final\_salary\_amount,\\
    deductions\_amount, \\
    payment\_date,        \\ 
    \fk{employee\_id}
\end{schema}
\schemacomment{Payroll.employee\_id references Employee.employee\_id}
\vspace{2em} 



\begin{schema}{Payroll\_Comments}
    \pk{\fk{payroll\_id}, comment}
\end{schema}
\schemacomment{Payroll\_Comments.payroll\_id references Payroll.payroll\_id}
\vspace{2em} 



\begin{schema}{Attendance}
    \pk{attendance\_record\_id}, \\
    date, \\
    check\_in\_time, \\
    check\_out\_time, \\
    total\_duration, \\
    \fk{employee\_id}
\end{schema}
\schemacomment{Attendance.employee\_id references Employee.employee\_id}
\schemacomment{Where total\_duration = check\_out\_time - check\_in\_time}
\vspace{2em} 


\begin{schema}{Deduction}
    \pk{deduction\_id}, \\
    amount, \\
    type,\\
    date, \\
    status, \\
    \fk{employee\_id}
\end{schema}
\schemacomment{Deduction.employee\_id references Employee.employee\_id}
\vspace{2em} 





\end{document}
